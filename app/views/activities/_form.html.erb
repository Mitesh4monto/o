<%= semantic_form_for @activity.becomes(Activity) do |f| %>
<% if @activity.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@activity.errors.count, "error") %> prohibited this activity from being saved:</h2>

    <ul>
    <% @activity.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>




	<%= f.input :title %>

		<%= f.input :goal,  :collection => get_goals_for_strategy(@activity.strategy), :prompt => "Select a Goal"  %>
		Or create new:
		 <%= f.text_field :new_goal_text %>
	<BR>
<%=   f.input :kind_of_timing,  :as => :select,      :collection => ["Reactive", "One time", "Frequency", "Whenever" ], :default => "One time" %>

<div id='freak'>
<%= f.text_field :freak_number %> times per <%= f.select :freak_interval, ["Day", "Week", "Month"] %>
</div>
<div id='react'>
When the following occurs: <%= f.text_field :reactive_expression %>
</div>

<%= f.radio_button :until_radio, "date" %>	
	<div id='duration_label'>by</div>
	<%= f.text_field :timing_duration %>
	<BR>
<%= f.radio_button :until_radio, "nodate" %>	
	<%= label :until_radio, "No end date" %>

	<%= f.input  :tag_list, :label => "enter comma separated tags" %>

<BR>
<%= f.text_area :description, :class => 'ckeditor' %>

<%= f.actions :submit %>
<% end %>
<%= link_to "cancel", myp_path %>


